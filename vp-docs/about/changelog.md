# 更新日志

## v1.2.3 (2026-01-20)

### 新功能
- **全局字间距控制**：可视化主题设计器新增「全局字间距」滑块，可精确调整正文与列表的疏密程度。
- **文件树侧边栏重构**：全新的文件树交互体验，支持多层级的文档管理操作。

### 修复与优化
- **主题设计器优化**：修复滑块控件在调节时的抖动问题，提升操作流畅度。
- **预览增强**：主预览区现在采用固定宽度（模拟 iPhone 16 Pro），提供更精准的所见即所得体验。
- **链接编辑**：优化链接快捷键的光标定位逻辑。
- **桌面端体验**：增强应用窗口行为控制与链接跳转处理。


## v1.2.2 (2026-01-13)

### 新功能
- **Mermaid 图表支持**：完整支持 Mermaid 图表（流程图、时序图、甘特图等），支持在编辑器中实时预览，并完美兼容通过“一键复制”到微信公众号（自动转为高清图片）。
- **Mermaid 工具栏**：编辑器工具栏新增 Mermaid 插入菜单，内置多种常用 Mermaid 模板。

### 优化
- **主题增强**：
    - 新增「加粗颜色」独立配置，可自定义加粗文字颜色。
    - 新增「列表字号」独立控制。

---

## v1.2.1 (2026-01-06)

### 优化
- **可视化主题设计器增强**：新增「直角边框」引用样式；支持引用内容居中与透明背景设置。

### 修复
- **大引号引用样式兼容性**：重构大引号引用样式，解决微信公众号内的显示与粘贴问题。
- **主题保存**：修复自定义主题保存时的跳转异常。


---

## v1.2.0 (2025-01-04)

### 新功能
- **导出主题 CSS**：主题面板新增「导出 CSS」选项，可将主题样式导出为纯 CSS 文件。
- **可视化主题设计器新增选项**：可视化主题设计器「全局」选项中新增「页面两侧间距」控制与「段落内部间距」控制。

### 优化
- **字体加载提速**：将 Google Fonts 替换为本地字体，提升首屏加载速度。
- **代码结构优化**：历史记录面板重构为模块化架构，拆分为 IndexedDB 版本和文件系统版本两个独立组件。
- **主题预览优化**：主题预览组件独立抽取并应用 `React.memo` 优化渲染性能。
- **内置主题修复**：修复部分内置主题的段落间距问题，确保显示效果一致。

---

## v1.1.9 (2025-12-29)

### 新功能
- **主题导入导出**：支持将可视化主题一键导出为 JSON 配置。
- **移动端适配**：新增移动端响应式布局，支持编辑器/预览一键切换（但现阶段并不建议使用移动端）。
- **自动隐藏顶栏**：点击标题栏最右侧按钮可隐藏标题栏，写作更沉浸。
- **状态指示器**：编辑器底部新增保存状态指示器，实时显示文档保存状态。

### 修复
- **Mac控制栏修复**：完美解决复制到微信公众号预览时，Mac风格红绿灯消失或错位的问题，所见即所得。
- **弹窗修复**：修复在网页版文件夹存储模式下，文件删除二次确认弹窗不可见的问题。
- **空白符修复**：修复代码块粘贴时可能出现的空白字符粘连问题，优化代码格式。

### 优化
- **快捷键增强**：新增多项快捷键支持。
- **新增代码风格**：新增 5 款代码高亮主题。
- **智能应用**：优化自定义主题二次编辑体验，点击“应用”时自动保存更改。
- **分割线优化**：新增多个分割线样式。
- **性能优化**：显著减小应用包体积，提升加载速度。

---

## v1.1.8 (2025-12-25)

### 新功能
- **可视化主题设计器**：无需编写 CSS，通过颜色选择器、滑块、预设选项等可视化控件快速定制主题，支持全局样式、标题、段落、引用、列表、代码、图片、表格等多个分类的细粒度调整。
- **Docker 部署**：新增 Docker 一键部署支持，`docker-compose up -d` 即可在本地运行私有化服务。
- **任务列表语法支持**：支持 `- [ ]` / `- [x]` 语法渲染任务复选框。
- **版本更新提示**：桌面端启动时自动检查新版本，弹出自定义 UI 的更新提示，支持查看更新日志、跳过此版本等功能。菜单栏新增「帮助 → 检查更新」手动检查入口。

---

## v1.1.7 (2025-12-23)

### 新功能
- **S3 兼容存储**：新增对 AWS S3、MinIO、Cloudflare R2 等 S3 兼容存储服务的支持，图床选择更自由。
- **外链转脚注**：工具栏新增「外链转脚注」开关，一键将文中链接转换为参考文献格式，提升文章专业度。

### 修复
- **界面适配**：修复 macOS 客户端窗口控制按钮位置及顶部栏边距异常。
- **主题样式**：修复内置主题缺失「滑动图组」样式的问题，确保多图展示效果一致。

### 优化
- **体验优化**：重新设计了图床设置面板，UI 更清晰，配置过程更顺畅。
- **系统瘦身**：深度清理遗留代码（移除旧版 MathJax/Highlight.js 依赖），显著减小包体积，提升构建与运行效率。
- **类型安全**：将 Electron 端代码完全迁移至 TypeScript，提供更强的类型检查与开发体验。
- **质量保障**：引入 Vitest 单元测试框架，覆盖核心 Markdown 解析与组件逻辑，为后续迭代提供稳固保障。

---

## v1.1.6 (2025-12-19)

### 新功能
- **GitHub Alert 语法**：支持 `> [!NOTE]`、`> [!TIP]`、`> [!IMPORTANT]`、`> [!WARNING]`、`> [!CAUTION]` 五种提示块语法，与 GitHub Flavored Markdown 风格保持一致（之前的提示块语法不再支持）。

### 修复
- 修复文件侧边栏删除文件时重复显示 toast 的问题。
- **客户端**：修复应用布局显示异常的问题，Windows 端新增窗口控制按钮，并支持自定义安装路径。

### 优化
- 所有内置主题更新支持新的提示块类型，相关文档也已更新。
- 深色模式预览持续优化：优化颜色转换逻辑，提升还原精度。

---

## v1.1.5 (2025-12-18)

### 新功能
- **深色模式预览**：可在编辑器中预览微信深色模式下的效果，算法还原度约 90%。
- **深色 UI**：编辑器新增深色界面风格，一键切换。

### 稳定性提升
- 文件切换逻辑优化，防止内容被意外覆盖。
- 删除操作新增二次确认弹窗。

---

## v1.1.4 (2025-12-15)

### 新功能
- **无限滚动**：文件列表支持分页加载，初始显示 50 条，滚动到底部自动加载更多。

### 修复
- **Electron 主题显示**：修复本地模式下未选中文件显示"默认主题"的问题。
- **防抖优化**：修复快速点击"新建"按钮可能创建多个文件的问题。

### 优化
- **代码清理**：移除未使用变量，修复部分 lint 警告。

---

## v1.1.3 (2025-12-12)

### 优化
- **数学公式预览**：采用 KaTeX 替代 MathJax 进行实时预览，渲染速度提升约 100 倍。
- **公式复制兼容**：复制到微信时仍使用 MathJax SVG 输出，确保公众号兼容性。
- **按需加载**：MathJax 仅在复制公式内容时动态加载，减少初始加载体积。
- **存储效率**：优化 IndexedDB 存储结构，分离文件元数据与内容，提升文件列表加载效率。

---

## v1.1.2 (2025-12-12)

### 新功能
- **水平滑动图片**：支持 `<![图1](url),![图2](url)>` 语法，用于在微信公众号中展示可左右滑动的多图组。

### 修复
- **代码块渲染**：修复了代码块在微信公众号中无法水平滚动、强制换行和样式溢出的问题。
- **图片排版**：修复了多图组件（ImageFlow）因图片比例不同导致的拉伸变形问题。
- **代码优化**：移除未使用的变量，优化代码质量。


## v1.1.1 (2025-12-11)

### 修复
- **Web兼容性**：修复了“复制到公众号”在部分网络环境下因异步加载超时而失效的问题（改为静态导入）。
- **用户体验**：优化了复制操作的响应速度，现在点击即刻生效。

---

## v1.1.0 (2025-12-11)

### 新功能
- **高级搜索**：支持正则表达式搜索、全词匹配与批量替换。
- **主题系统重构**：更健壮的主题管理核心，修复了多处主题切换与持久化问题。
- **性能优化**：显著提升了编辑器加载速度与运行时响应。

### 优化与修复
- **文档更新**：全面更新了快速上手指南与项目结构文档，新增快捷键说明。
- **代码清理**：删除了大量冗余代码与空目录，项目结构更加清晰。
- **修复**：修复了 ThemePanel 初始化时的循环引用问题，提升稳定性。

---


## v1.0.6 (2025-12-10)

### 修复
- **重要**：修复 Windows 11 安装后白屏的问题（资源路径修复）。
- **重要**：修复模式切换时文档可能被覆盖的问题（状态隔离）。
- 修复 Cmd+S 触发两次保存提示的问题。

### 优化
- Electron 欢迎页添加 Logo 图标。
- 清理冗余代码。

---

## v1.0.5 (2025-12-09)

### 性能优化
- **内存占用降低 60%**：移除实时预览中的重样式计算，大幅优化编辑体验和内存占用。
- **加载速度提升**：深度优化文档和首页资源体积（JS 体积减少 70%）。

### 修复
- **重要**：修复浏览器存储模式下刷新页面报错"无法加载文件列表"的问题。
- **构建**：修复 macOS 安装包构建时的文件权限错误。

---
## v1.0.4 (2025-12-09)

### 新功能
- **快捷键支持**：
  - `Cmd/Ctrl + B`：粗体
  - `Cmd/Ctrl + I`：斜体
  - `Cmd/Ctrl + S`：手动保存
- **文件操作**：本地模式文件右键菜单增加"复制标题"功能
- **体验优化**：上传或粘贴图片时默认不使用文件名作为描述，保持整洁

### 修复
- **修复**：浏览器存储模式下预览图片过大的问题（强制自适应）
- 修复侧边栏底部圆角显示不正确的问题
- 修复上传图片后文件名干扰的问题

---

## v1.0.3 (2025-12-09)

### 修复
- **重要**：修复本地文件夹模式刷新页面后不自动恢复上次编辑文档的问题
- **重要**：修复本地文件夹模式主题名称显示不正确的问题
- 修复刷新页面时示例文档和文件列表短暂闪烁的问题
- 文件列表现在按编辑时间倒序排列
- 切换文件前自动保存当前文件的主题设置

---

## v1.0.2 (2025-12-09)

### 修复
- **重要**：修复刷新页面后自定义主题丢失的问题
- 选中的主题现在持久化到 localStorage，刷新页面后自动恢复
- 添加主题存在性验证，防止引用已删除的主题

---

## v1.0.1 (2025-12-09)

### 修复
- 新建自定义主题时 CSS 输入框现在为空，不再复制当前主题内容
- 删除主题后预览正确切换到默认主题
- 自定义主题列表实时刷新，无需手动刷新页面

### 优化
- 保存、复制、删除主题操作后添加 toast 提示

---

## v1.0.0 (2025-12-08)

### 新功能
- 🎨 **多主题支持**：内置 12+ 精美主题，支持自定义 CSS
- 📋 **一键复制**：完美兼容微信公众号，所见即所得
- 🖼️ **多图床支持**：官方图床 / 七牛云 / 阿里云 / 腾讯云
- 💾 **本地优先**：数据存储在本地，无需登录，隐私安全
- 📱 **跨平台**：Web 端 + 桌面端（macOS / Windows / Linux）
- 🌙 **界面风格**：微信绿 / 复古蓝 双主题可选
